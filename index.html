<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Laughter Button</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pop-up {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }
        .haha-text {
            position: absolute;
            pointer-events: none;
            font-weight: bold;
            color: #f59e0b;
            animation: pop-up 1s ease-out forwards;
            z-index: 50;
        }
        .laugh-btn {
            transition: transform 0.1s active, box-shadow 0.1s active;
        }
        .laugh-btn:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col items-center justify-center p-4 font-sans">

    <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 text-center border border-slate-100">
        <h1 class="text-3xl font-black text-slate-800 mb-2">Laughter Box ðŸ˜†</h1>
        <p class="text-slate-500 mb-8">No external files needed! Press the button below.</p>

        <!-- Main Button Container -->
        <div class="relative flex justify-center items-center mb-10">
            <button id="mainButton" class="laugh-btn group relative z-10 w-48 h-48 bg-orange-500 hover:bg-orange-600 rounded-full shadow-[0_15px_0_0_#d97706] active:shadow-none active:translate-y-[10px] flex flex-col items-center justify-center transition-all">
                <span class="text-6xl group-hover:scale-110 transition-transform">ðŸ˜‚</span>
                <span class="text-white font-bold mt-2 uppercase tracking-widest">Laugh!</span>
            </button>
            
            <!-- Particle Container -->
            <div id="particleContainer" class="absolute inset-0 pointer-events-none"></div>
        </div>

        <!-- Controls -->
        <div class="space-y-4">
            <label class="block text-sm font-medium text-slate-600 uppercase tracking-wider">Select Style</label>
            <div class="grid grid-cols-3 gap-2">
                <button onclick="setStyle('chuckle', this)" class="style-btn p-3 rounded-xl border-2 border-orange-200 bg-orange-50 text-orange-700 font-semibold hover:bg-orange-100 transition-colors">
                    Chuckle
                </button>
                <button onclick="setStyle('belly', this)" class="style-btn p-3 rounded-xl border-2 border-transparent bg-slate-100 text-slate-600 font-semibold hover:bg-slate-200 transition-colors">
                    Belly
                </button>
                <button onclick="setStyle('giggle', this)" class="style-btn p-3 rounded-xl border-2 border-transparent bg-slate-100 text-slate-600 font-semibold hover:bg-slate-200 transition-colors">
                    Giggle
                </button>
            </div>
        </div>

        <div class="mt-8 pt-6 border-t border-slate-100">
            <p id="statusMsg" class="text-xs text-slate-400">Powered by Web Speech Synthesis</p>
        </div>
    </div>

    <script>
        let currentStyle = 'chuckle';
        const mainButton = document.getElementById('mainButton');
        const particleContainer = document.getElementById('particleContainer');
        const statusMsg = document.getElementById('statusMsg');

        function setStyle(style, btn) {
            currentStyle = style;
            
            // UI Updates
            document.querySelectorAll('.style-btn').forEach(b => {
                b.classList.remove('border-orange-200', 'bg-orange-50', 'text-orange-700');
                b.classList.add('border-transparent', 'bg-slate-100', 'text-slate-600');
            });
            
            btn.classList.add('border-orange-200', 'bg-orange-50', 'text-orange-700');
            btn.classList.remove('border-transparent', 'bg-slate-100', 'text-slate-600');
        }

        function createFloatingText() {
            const texts = ["HA HA!", "LOL", "ROFL", "HEHE", "XD"];
            const text = document.createElement('div');
            text.className = 'haha-text';
            text.innerText = texts[Math.floor(Math.random() * texts.length)];
            
            const angle = Math.random() * Math.PI * 2;
            const dist = 60 + Math.random() * 40;
            const x = Math.cos(angle) * dist;
            const y = Math.sin(angle) * dist;
            
            text.style.left = `calc(50% + ${x}px)`;
            text.style.top = `calc(50% + ${y}px)`;
            
            particleContainer.appendChild(text);
            setTimeout(() => text.remove(), 1000);
        }

        function speakLaugh() {
            // Cancel any current speech
            window.speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance();
            
            // Configure laughter based on style
            switch(currentStyle) {
                case 'chuckle':
                    utterance.text = "ha. ha. ha. ha.";
                    utterance.pitch = 0.8;
                    utterance.rate = 1.2;
                    break;
                case 'belly':
                    utterance.text = "HA! HA! HA! HA! HA!";
                    utterance.pitch = 0.5;
                    utterance.rate = 0.8;
                    break;
                case 'giggle':
                    utterance.text = "hee hee hee hee hee!";
                    utterance.pitch = 1.8;
                    utterance.rate = 1.5;
                    break;
            }

            // Find a good voice if available
            const voices = window.speechSynthesis.getVoices();
            if (voices.length > 0) {
                // Try to find a natural sounding one
                utterance.voice = voices.find(v => v.name.includes('Google') || v.name.includes('Natural')) || voices[0];
            }

            window.speechSynthesis.speak(utterance);
        }

        mainButton.addEventListener('click', () => {
            speakLaugh();
            
            // Visual effects
            for(let i = 0; i < 3; i++) {
                setTimeout(createFloatingText, i * 150);
            }
        });

        // Some browsers need voices to be loaded asynchronously
        window.speechSynthesis.onvoiceschanged = () => {
            console.log("Voices loaded");
        };
    </script>
</body>
</html>
